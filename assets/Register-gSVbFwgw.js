import{r as d,u as h,j as e,L as x,a as p}from"./index-BWStPa2h.js";import{n}from"./feedback-CHygJqFt.js";import{u as f}from"./AuthChecker-BxEdAQ6N.js";const C=()=>{const[t,o]=d.useState(!0),[r,u]=d.useState({Name:"",Email:"",Password:"",PhoneNumber:"",Address:t?void 0:"",StoreName:t?"":void 0,StoreAddress:t?"":void 0}),m=f(),{register:N}=h(),i=s=>{o(s==="retailer"),u({Name:"",Email:"",Password:"",PhoneNumber:"",Address:s==="retailer"?void 0:"",StoreName:s==="retailer"?"":void 0,StoreAddress:s==="retailer"?"":void 0})},a=s=>{u({...r,[s.target.name]:s.target.value})},c=async s=>{s.preventDefault();const b=Object.fromEntries(Object.entries(r).filter(([l,g])=>g!==void 0));try{let l=await p.register(b,t);l.status===201?(n.success("Registration successful! You can now log in."),m.redirectTo("/login")):l.status===400?n.warning("This email is already registered. Try logging in."):n.error("Unexpected error. Please try again.")}catch{n.error("Could not complete registration. Check your details and try again.")}};return e.jsx("div",{className:"bg-gradient-to-r from-blue-300 to-blue-500 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"neu-card w-screen md:w-96",children:[e.jsxs("div",{className:"flex justify-center mb-6 space-x-4",children:[e.jsx("button",{className:`neu-btn text-blue-800 ${t?"selected":""}`,onClick:()=>i("retailer"),children:"Retailer"}),e.jsx("button",{className:`neu-btn text-blue-800 ${t?"":"selected"}`,onClick:()=>i("customer"),children:"Customer"})]}),e.jsx("h2",{className:"text-2xl font-bold text-blue-800 mb-6 text-center",children:t?"Retailer Register":"Customer Register"}),e.jsxs("form",{onSubmit:c,children:[e.jsx("input",{type:"text",name:"Name",placeholder:"Name",value:r.Name,onChange:a,className:"w-full p-3 mb-4 bg-blue-100 text-blue-800 rounded-lg",required:!0}),e.jsx("input",{type:"email",name:"Email",placeholder:"Email",value:r.Email,onChange:a,className:"w-full p-3 mb-4 bg-blue-100 text-blue-800 rounded-lg",required:!0}),e.jsx("input",{type:"password",name:"Password",placeholder:"Password",value:r.Password,onChange:a,className:"w-full p-3 mb-4 bg-blue-100 text-blue-800 rounded-lg",required:!0}),e.jsx("input",{type:"tel",name:"PhoneNumber",placeholder:"Phone Number",value:r.PhoneNumber,onChange:a,className:"w-full p-3 mb-4 bg-blue-100 text-blue-800 rounded-lg",required:!0}),!t&&e.jsx("input",{type:"text",name:"Address",placeholder:"Address",value:r.Address,onChange:a,className:"w-full p-3 mb-4 bg-blue-100 text-blue-800 rounded-lg",required:!0}),t&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"StoreName",placeholder:"Shop Name",value:r.StoreName,onChange:a,className:"w-full p-3 mb-4 bg-blue-100 text-blue-800 rounded-lg",required:!0}),e.jsx("input",{type:"text",name:"StoreAddress",placeholder:"Shop Address",value:r.StoreAddress,onChange:a,className:"w-full p-3 mb-6 bg-blue-100 text-blue-800 rounded-lg",required:!0})]}),e.jsx("button",{type:"submit",className:"neu-btn w-full text-blue-800",children:"Register"})]}),e.jsxs("p",{className:"text-center mt-4",children:["Already have an account?"," ",e.jsx(x,{to:"/login",className:"text-blue-600",children:"Login here"})]})]})})};export{C as default};
